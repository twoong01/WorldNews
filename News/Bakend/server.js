const express = require('express');
const path = require('path');
const app = express();
const cors = require('cors');
const request = require('request');
const async = require('async');
const cheerio = require('cheerio');
const axios = require('axios');

let corsOptions = {
  origin: 'http://localhost:5173',
  credentials: true,
};

app.use(cors(corsOptions));
app.use(express.json());

require('dotenv').config({ path: './.env' });

const originalHTML =
  '<div class="page" id="readability-page-1"><div><div>\n<p>\nFormer President Donald Trump has already backed two recent efforts to transfer cases against him from state to federal court. | Alex Brandon/AP Photo\n</p>\n\n</div>\n<p>The first big showdown for Fulton County District Attorney Fani Willis in <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://www.politico.com/f/?id=00000189-f730-dc32-ab89-f7fc1f760000">her case against Donald Trump and 18 of his allies</a> will take place on unfamiliar turf: a federal courtroom.</p>\n<p>Officially, the Monday hearing in Atlanta will focus on a bid by co-defendant Mark Meadows to move the case out of Georgia state court.</p>\n\n<p>But the session will also be a post-indictment courtroom debut for Willis’ prosecution team and a chance for attorneys in both camps to air their strongest initial arguments about the case, which was <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://www.politico.com/news/2023/08/14/fulton-county-trump-indictment-00111211">unveiled just two weeks ago</a> and alleges a sweeping conspiracy to subvert the 2020 presidential election in Georgia and other states.</p>\n</div><div>\n<p>In short, the hearing before U.S. District Judge Steve Jones could resemble a mini-trial that will carry important lessons for the bigger battle to come. Some witnesses have even been served with subpoenas to testify at the hearing, including Georgia Secretary of State Brad Raffensperger, who resisted Trump’s pressure to “find” extra votes in January 2021 and could be a star witness for the prosecution at the eventual trial.</p>\n<p>A transfer of the case to federal court would not likely be catastrophic for Willis’ case, but it would, at a minimum, eliminate an intrinsic home-court advantage for the veteran Fulton County prosecutor, legal experts said.</p>\n<p>“Fani Willis spends her professional life in Fulton County Superior Court. She knows the court. She knows the judges. It’s geographically convenient. She knows the juries. She knows everything about it,” said Norman Eisen, a senior fellow at the Brookings Institution and co-founder of Citizens for Responsibility and Ethics in Washington. “She’s prepared to do it [in federal court], but that’s not her home court.”</p>\n\n<p>For the moment, Trump himself has not asked for a transfer — formally known as a “removal” — to federal court. But five of the 19 defendants have: Meadows, who served as Trump’s final White House chief of staff; Jeffrey Clark, who served in Trump’s Justice Department; and three defendants who falsely claimed to be electors authorized to cast Electoral College ballots for Georgia.</p>\n<p>Trump still has plenty of time to seek a transfer. Under federal law, that deadline won’t come for more than a month.</p>\n<p>Meanwhile, he can sit back and see what happens Monday, sizing up Jones — an appointee of former President Barack Obama — and assessing the judge’s openness to arguments that the case properly belongs in federal court because some of the defendants held posts in the federal government at the time of the 2020 election.</p>\n<p>If moved to federal court, the charges — all of which are under Georgia law — would remain the same, and Willis’ team could continue to handle the prosecution. But federal procedural rules, not state court rules, would apply. And some defendants might anticipate other, more substantive advantages in a federal forum.</p>\n\n<p>A jury for a trial in federal court would likely be drawn from 10 counties that comprise Atlanta and its sprawling suburbs, while a state-court trial would likely include jurors only from Fulton County, which delivered <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://results.enr.clarityelections.com/GA/Fulton/105430/web.264614/#/summary">a 73% to 26% victory</a> for Joe Biden over Trump in 2020. The broader set of counties is home to a somewhat higher proportion of Trump supporters, though the political makeup is not dramatically different.</p>\n<p>“It’s a slightly different jury pool,” Eisen said. “I don’t think it’ll be outcome-determinative. Only one of the counties went for Trump. It’s almost all Biden counties in this division.”</p>\n<p>A federal judge might also have more leeway to consider challenges to the constitutionality of the state racketeering statute or other laws included in the indictment than state judges, who are bound to follow state precedent.</p>\n<h3>Questions of immunity</h3>\n<p>Meadows hopes that a transfer to federal court would be a prelude to a ruling that he is entirely immune from the Georgia charges because they relate to actions he took as a federal official.</p>\n<p>Other defendants — including Trump himself — are expected to make the same immunity argument.</p>\n<p>The argument is rooted in the <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://constitution.congress.gov/browse/essay/artVI-C2-1/ALDE_00013395/">supremacy clause</a> of the U.S. Constitution, which declares federal law to be “the supreme law of the land,” taking precedence over state laws that might conflict with it. It’s intended to prevent states from criminalizing actions that federal officials take to do their jobs. But legal scholars say the Constitution does not provide immunity from state charges based on conduct that clearly falls outside the scope of a federal official’s duties.</p>\n<p>A string of cases in which federal officials — particularly law enforcement officers — have faced state-level charges have resulted in court rulings that often lead to immunity for those officials. Federal courts, more so than state courts, have tended to show deference to such claims.</p>\n\n<p>“The conduct alleged in the Indictment plainly came about because Mr. Meadows was serving as Chief of Staff to then-President Donald J. Trump, and the Chief of Staff has broad-ranging duties to advise and assist the President. This is not a case where the defendant was plainly ‘acting on a frolic of their own which had no relevancy of their official duties,’” Meadows’ lawyers wrote in <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://storage.courtlistener.com/recap/gov.uscourts.gand.319225/gov.uscourts.gand.319225.45.0_1.pdf">a court filing</a> Friday, quoting an earlier legal precedent.</p>\n<p>Meadows’ submission even dabbles in a controversial argument advanced by some conservatives known as the unitary executive theory. The former chief of staff’s lawyers argue that since state- and locally-run elections are overseen by portions of the federal government such as the Justice Department, they are the business of the president and, by extension, the president’s top adviser — in this case, Meadows.</p>\n<p>Willis’ team argues the opposite: that the effort by Trump and his allies to revise the vote count in Georgia and to submit electors not certified by the state was purely political in nature and had nothing to do with the official duties of anyone involved on Trump’s side.</p>\n<p>The prosecutors argue that a federal law known as the Hatch Act prohibits federal employees from engaging in political activity as part of their official work, so Meadows couldn’t have been acting as White House chief of staff when he lobbied Georgia officials to change the vote tally.</p>\n\n<p>“Since the defendant was forbidden by law to use his authority or influence to interfere with or affect the result of an election or otherwise participate in activity directed toward the success of Mr. Trump as a candidate for the presidency, every single one of these activities fell outside the scope of his duties, both as a matter of fact and as a matter of law,” Chief Senior Assistant District Attorney McDonald Wakeford wrote in <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://storage.courtlistener.com/recap/gov.uscourts.gand.319225/gov.uscourts.gand.319225.27.0.pdf">a brief</a> submitted to Jones Wednesday.</p>\n<p>Monday’s hearing is officially about Meadows’ request to transfer the case to federal court, but the immunity questions under the supremacy clause are related to that request, so the hearing may be the first time that lawyers on both sides will be questioned in court about a key potential legal defense.</p>\n<h3>Removal repercussions</h3>\n<p>Still unclear is precisely what any ruling the judge issues on Meadows’ transfer request would mean for Trump or other defendants. Typically, cases are moved from state court to federal court in their entirety, but some defendants might seek to have their cases sent back.</p>\n<p>“It’s a very unsettled question of law,” Eisen said. “Probably what happens is the whole thing goes up [to federal court], as in a civil case. But the courts have said that the presumption of a state’s right to hang on to its criminal matters is stronger. … So you know, while that’s likely, it’s not guaranteed.”</p>\n<p>Removal of civil lawsuits from state court to federal courts is routine, but removal of criminal cases from the state system to the federal one is far rarer.</p>\n<p>One of the most high-profile transfers of a criminal prosecution from state to federal court came in 1997, when FBI sharpshooter Lon Horiuchi was indicted in connection with the Ruby Ridge standoff in Idaho five years earlier. A local prosecutor charged Horiuchi with involuntary manslaughter for shooting and killing Vicki Weaver, the wife of anti-government militant Randy Weaver, during the siege.</p>\n<p>Federal prosecutors had the case moved to federal court, where a judge later dismissed it, ruling that Horiuchi had immunity because he was acting within the scope of his duties. A federal appeals court reversed that ruling and reinstated the case, but it was eventually dropped after a change in leadership at the local prosecutor’s office.</p>\n<p>More recently, two U.S. Park Police officers got their prosecution in a Virginia state court moved to federal court after they were charged with involuntary manslaughter for killing an unarmed motorist, Bijan Ghaisar, during a traffic stop in 2017 following a chase on the George Washington Memorial Parkway in Fairfax County, Va. A federal judge later <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://casetext.com/case/commonwealth-v-amaya">dismissed the charges</a> against the pair.</p>\n<p>Virginia Attorney General Mark Herring, a Democrat, appealed that ruling. But after Republican Jason Miyares won the AG post in 2021, he dropped the appeal. Despite vocal protests over the officers’ actions, the Justice Department last year <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://www.justice.gov/opa/pr/federal-officials-decline-reopen-investigation-death-bijan-ghaisar">declined to reopen</a> its investigation of the shooting and stood by <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://www.justice.gov/usao-dc/pr/federal-officials-close-investigation-death-bijan-ghaisar">an earlier decision</a> not to file federal charges.</p>\n<h3>Trump’s transfer bids</h3>\n<p>Trump himself has already backed two recent efforts to transfer cases against him from state to federal court.</p>\n<p>Less than two months before the 2020 election, the Justice Department stepped into a civil suit that writer E. Jean Carroll filed against Trump over his denials of her claim that he raped her in a New York City department store dressing room in the 1990s.</p>\n\n<p>The transfer to federal court went forward, but the judge rejected claims from the Justice Department that Trump had immunity for statements he made about Carroll while he was president.</p>\n<p>A federal jury in Manhattan <a data-tracking="mpos=&amp;mid=&amp;lindex=&amp;lcol=" href="https://www.politico.com/news/2023/05/09/trump-e-jean-carroll-trial-verdict-00096009">found Trump liable</a> in a parallel suit in May, concluding that he committed sexual abuse and defamation and ordering him to pay Carroll $5 million in damages. Trump is appealing.</p>\n<p>Carroll’s other suit is set for trial in January. The Justice Department recently changed its stance in the case, saying that Trump is not entitled to immunity and that his statements about Carroll appeared to be outside the scope of his official role as president.</p>\n<p>Earlier this year, Trump also sought to move his criminal prosecution over hush money payments to porn star Stormy Daniels from New York state court to federal court there. A federal judge rejected Trump’s transfer request, but the former president is appealing.</p>\n<h3>Margarine precedent</h3>\n<p>Fights over forums have a long and, at times, peculiar history.</p>\n<p>Meadows’ brief backing transfer of his prosecution to federal court cites a trio of Supreme Court cases from over a century ago.</p>\n<p>In 1890, the high court concluded that a deputy U.S. marshal — charged in California with murdering a man who was assaulting a sitting Supreme Court justice — was properly acting in his federal capacity when he fired the fatal shot.</p>\n<p>In 1899, the justices rejected a bid by Ohio to prosecute a federal official for a state-law crime the court described as “serving margarine in a home for disabled veterans without placing a sign in the window.”</p>\n<p>And in 1906, the Supreme Court denied immunity in a case featuring conflicting evidence about a group of soldiers who shot and killed a thief after a rapid pursuit.</p>\n<p>But some critics of the attempt by Trump allies to move the Georgia prosecution to federal court say it flies in the face of Republican officials’ frequent calls for the federal government to devolve power to the states.</p>\n<p>“It’s ironic,” Eisen said. “Conservatives are known for trumpeting the role of the states in our federalist system, and here you have two conservatives who are running to federal court to avoid the operation of a state judicial system.”</p>\n</div></div>';

//

// Express 엔드포인트
app.post('/translate', async (req, res) => {
  const options = {
    method: 'POST',
    url: 'https://ai-translate.p.rapidapi.com/translates',
    headers: {
      'content-type': 'application/json',
      'X-RapidAPI-Key': 'b6eb25c754msh58d58aa9e10e52fp193e92jsnf059808792b3',
      'X-RapidAPI-Host': 'ai-translate.p.rapidapi.com',
    },
    data: {
      texts: [originalHTML],
      tls: ['ko'],
      sl: 'en',
    },
  };

  try {
    const response = await axios.request(options);
    console.log(response.data);
    res.send(response.data);
  } catch (error) {
    console.error(error);
  }
});

app.listen(8080, () => {
  console.log('listening on 8080');
});
